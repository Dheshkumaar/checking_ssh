<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script>
        var user = [
            {
                username: "ramu",
                password: "1234"
            },
            {
                username: "somu",
                password: "1111"
            },
            {
                username: "Komu",
                password: "1999"
            }
        ]
        //for (var i = 0; i < user.length; i++) {
        //    console.log(user[i]);
        //}
        function myfunction() {
            var username = document.getElementById("txtUsername").value;
            var password = document.getElementById("txtPassword").value;
            for (var i = 0; i < user.length; i++) {
                if (user[i].username == username && user[i].password == password) {
                    alert("welcome");
                    return;
                } 
            }
            alert("Invalid login")
        }
        function registerUser() {
            var username = document.getElementById("txtUsername").value;
            var password = document.getElementById("txtPassword").value;
            var myUser = {
                username: username,
                password: password
            }
            user.push(myUser)
            console.log("----------");
            console.log(user)
            var count = user.length;
            var myTable = document.getElementById("tblUsers");
            var row = myTable.insertRow(count);
            var cellUN = row.insertCell(0);
            var cellPass = row.insertCell(1);
            cellUN.innerHTML = user[count-1].username;
            cellPass.innerHTML = user[count-1].password

        }

        function addInitialRecords() {
            var myTable = document.getElementById("tblUsers");
            for (var i = 0; i < user.length; i++) {
                var row = myTable.insertRow(i + 1);
                var cellUN = row.insertCell(0);
                var cellPass = row.insertCell(1);
                cellUN.innerHTML = user[i].username;
                cellPass.innerHTML = user[i].password
            }
        }
    </script>
    <style>
        div{
            width: 300px;
        }
    </style>
</head>
<body>
    <div class="alert alert-primary">   
        <label for="txtUsername" class="form-control">Username</label>
        <input type="text" class="form-control" id="txtUsername" />
        <br>
        <label for="txtPassword" class="form-control">Password</label>
        <input type="password" class="form-control" id="txtPassword" />
        <br>
        <button class="btn btn-success" onclick="registerUser()">Login</button>
        <button class="btn btn-danger" >Reset</button>
    </div>
    <button class="btn btn-danger" onclick="addInitialRecords()">Set Table</button>
    <div >
        <table id="tblUsers" border="1">
            <tr>
                <td>Username</td>
                <td>Password</td>
            </tr>
        </table>
    </div>
</body>
</html>